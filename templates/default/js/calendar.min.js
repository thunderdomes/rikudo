var pCIsOpera=(window.opera)?true:false;var pCIsIE=(document.all&&!pCIsOpera)?true:false;var pCIsIE5=(pCIsIE&&/MSIE 5\.0/.test(navigator.appVersion))?true:false;
var pCIsIE55=(pCIsIE&&/MSIE 5\.5/.test(navigator.appVersion))?true:false;var pCIsIE6=(pCIsIE&&/MSIE 6\.0/.test(navigator.appVersion))?true:false;var pCIsIE7=(pCIsIE&&/MSIE 7\.0/.test(navigator.appVersion))?true:false;
var pCIsIElte55=(pCIsIE&&(pCIsIE5||pCIsIE55)&&!pCIsIE7);var pCIsIElte6=(pCIsIE&&(pCIsIElte55||pCIsIE6)&&!pCIsIE7);var pCIsMac=(/Mac/.test(navigator.appVersion))?true:false;
var cDOM={isParentOf:function(a,b){while(b&&(b!=a)){b=b.parentNode;}return(b==a);},cGetParentOrSelf:function(b,a){a=a.toLowerCase();while(b.nodeName.toLowerCase()!=a&&b.parentNode){b=b.parentNode;
}return b;},addClass:function(b,a){b.className+=" "+a;},removeClass:function(b,c){var a=new RegExp("\\b"+c+"\\b","g");if(a.test(b.className)){b.className=b.className.replace(a," ");
}}};var tdCal;Date.prototype.MILLISECONDS_PER_DAY=86400000;function cGetDimensions(b){var f={x:0,y:0,w:0,h:0};if(document.getBoxObjectFor){var a=document.getBoxObjectFor(b);
f.x=a.x;f.y=a.y;f.w=a.width;f.h=a.height;}else{if(b.getBoundinpClientRect){var g=/MSIE 5\.0/g;var a=b.getBoundinpClientRect();f.x=a.left;f.y=a.top;f.w=(a.right-a.left);
f.h=(a.bottom-a.top);if(document.compatMode&&document.compatMode!="BackCompat"){var e=(document.body.scrollTop==0)?(window.pageYOffset)?window.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;
f.x+=document.documentElement.scrollLeft-2;f.y+=e-2;}else{if(!pCIsIE5){f.x+=document.body.scrollLeft-2;f.y+=document.body.scrollTop-2;}}}else{f.w=b.offsetWidth;
f.h=b.offsetHeight;while(b){f.x+=b.offsetLeft;f.y+=b.offsetTop;if(b.offsetParent){b=b.offsetParent;}else{break;}}}}var c;return f;}function cBuildCal(k,s,l){var c=[31,0,31,30,31,30,31,31,30,31,30,31];
tdCal=new Date();tdCal.setDate(trCal.currentDay);if(!k){k=tdCal.getFullYear();}if(!s){s=tdCal.getMonth()+1;}if(!l){l=tdCal.getDate;}var a=calendar.caldt;
var b=new Date(k,s-1,1);var q=b.getDay();c[1]=(((b.getFullYear()%100!=0)&&(b.getFullYear()%4==0))||(b.getFullYear()%400==0))?29:28;var f='<table class="caltable" border="0" cellspacing="0"><tr>';
f+='<td class="calheader monthYear" colspan="4">';f+='<select name="ym" class="ym_month" onchange="cGoYearMonth( this.options[this.selectedIndex].value );">';
var r=tdCal.getMonth()+1;var g=tdCal.getFullYear();var o=0;for(n=0;n<=11;n++){f+='<option value="'+g+"-"+r+'"';if(r==s&&g==k){f+=' selected="selected"';
o=1;}else{o=0;}f+=">"+months[r-1]+" "+g+"</option>";r++;if(r>12){r=1;g++;}}f+=" </select>";f+='</td><td class="calheader monthYear" colspan="2">';if(k==tdCal.getFullYear()&&s==tdCal.getMonth()+1){f+='<a class="calPrevMonth" href="javascript:void(0)"><img src="'+trCal.icons+trCal.iconPrevMonth2+'" width="16" height="24" alt="'+trCal.prevMonth+'" /></a>';
}else{f+='<a class="calPrevMonth" href="" onclick="cPrevMonth( '+k+","+s+' ); return false;" title="'+trCal.prevMonth+'"><img src="'+trCal.icons+trCal.iconPrevMonth+'" width="16" height="24" alt="'+trCal.prevMonth+'" /></a>';
}if(o==1){f+='<a class="calNextMonth" href="javascript:void(0);"><img src="'+trCal.icons+trCal.iconNextMonth2+'" width="16" height="24" alt="'+trCal.nextMonth+'" /></a>';
}else{f+='<a class="calNextMonth" href="" onclick="cNextMonth( '+k+","+s+' ); return false;" title="'+trCal.nextMonth+'"><img src="'+trCal.icons+trCal.iconNextMonth+'" width="16" height="24" alt="'+trCal.nextMonth+'" /></a>';
}f+='</td><td class="calheader monthYear">';f+='<a class="calCloseLink" href="#" onclick="cCloseCal(); return false;"><img src="'+trCal.icons+'delete.gif" width="16" height="24" alt="" title="'+trCal.closeCalendar+'" /></a>';
f+="</td></tr>";f+='<tr class="dayNames">';var h;for(dn=0;dn<7;dn++){h="";if((dn%7==5)||(dn%7==6)){h+=" weekend";}f+='<td class="'+h+'">'+days[dn]+"</td>";
}f+='</tr><tr class="days">';for(i=1;i<=42;i++){var j=i-(q+6)%7;if(j>c[s-1]||j<1){j="&nbsp;";}h="";var e=0;if((i%7==0)||(i%7==6)){h+=" weekend";}if(j>0){var p=new Date(k,s-1,j);
if((p.getFullYear()==k)&&(p.getMonth()+1==s)&&(p.getDate()==l)){h+=" selected";e=1;}if((p.getFullYear()==tdCal.getFullYear())&&(p.getMonth()==tdCal.getMonth())&&(p.getDate()==tdCal.getDate())){h+=" today";
e=1;}else{if(p>tdCal){h+=" future";e=1;}else{if(p<tdCal){h+=" past";}}}}f+='<td class="'+h+'">';if(e){f+='<a href="#" onclick="cPickDate( '+k+","+s+","+j+",'"+a+"' ); return false;\">"+j+"</a>";
}else{f+=j;}f+="</td>";if(((i)%7==0)&&(i<36)){f+='</tr><tr class="days">';}}f+="</tr></table>";document.getElementById("calendar").innerHTML=f;}function cShowCalendar(j,f,e){cGetDimensions(j);
if(document.getElementById){var k=document.getElementById(f);var b=cGetChildImage(j);var l=cDOM.cGetParentOrSelf(j,"form");calendar.cal=k;calendar.caldt=e;
calendar.calf=l;var g=l[e+"_year_month"].value.split("-");y=g[0];m=g[1];d=l[e+"_monthday"].value;if(y==="0"){y=new Date().getFullYear();}cBuildCal(y,m,d);
var a=cGetDimensions(b);var c=a.x,h=(a.y+b.offsetHeight);k.style.left=(c+23)+"px";k.style.top=h+"px";k.style.display="block";}}function cCloseCal(){calendar.cal.style.display="none";
}function cPrevMonth(b,a){if(new Date(b,a-1,1)<tdCal){return;}if(a>1){a--;}else{a=12;b--;}cBuildCal(b,a);}function cNextMonth(b,a){if(a<12){a++;}else{a=1;
b++;}cBuildCal(b,a);}function cGoYearMonth(a){var b=a.split("-");cBuildCal(b[0],b[1]);}function cPickDate(b,a,c,f){var e=calendar.calf;var f=calendar.caldt;
e[f+"_year_month"].value=b+"-"+a;e[f+"_monthday"].value=c;if(f=="checkin"){cCheckDateOrder(e,"checkin_monthday","checkin_year_month","checkout_monthday","checkout_year_month");
}cCloseCal();}function cUpdateDaySelect(p){if(pCIsIE5&&pCIsMac){return;}var k=cDOM.cGetParentOrSelf(p,"form");if(k.getAttribute("id")!=="frm"&&k.className!=="availForm"){return;
}if(!k.checkin_monthday||!k.checkout_monthday||!k.checkin_year_month||!k.checkout_year_month){return;}if(k.checkin_monthday.value==="0"&&k.checkout_monthday.value==="0"&&k.checkin_year_month.value==="0"&&k.checkout_year_month.value==="0"){return;
}var r=k.checkin_monthday,g=k.checkout_monthday,s,j,e;if(k.checkin_year_month.value!=="0"){s=k.checkin_year_month.value.split("-");}if(k.checkout_year_month.value!=="0"){j=k.checkout_year_month.value.split("-");
}var q=Math.max(r.selectedIndex,0),b=Math.max(g.selectedIndex,0),u=r[q].value,l=g[b].value,o=[],c,t;r.innerHTML="";g.innerHTML="";if(!pCIsIE5){var f=function(){};
}function h(C,x,B,D,v){var w,z,A;for(w=0;w<C;w++){A=document.createElement("option");z=w+1;if(x.value!=="0"){z=B[w]+" "+z;}A.innerHTML=z;A.value=(w+1);
if(w>0&&v==w+1){A.defaultSelected=A.selected=true;}D.appendChild(A);}}o=cBuildDaysForMonth(s[0],s[1]);var a=31;if(k.checkin_year_month.value!=="0"){a=o.length;
}h(a,k.checkin_year_month,o,r,u);o=cBuildDaysForMonth(j[0],j[1]);a=31;if(k.checkout_year_month.value!=="0"){a=o.length;}h(a,k.checkout_year_month,o,g,l);
if(pCIsIElte6){r.value=u;g.value=l;}}function cBuildDaysForMonth(f,b){var h=new Date(f,b-1);var e=h.getMonth();var a=[],g;while(h.getMonth()==e){g=(h.getDay()==0)?6:(h.getDay()-1);
a.push(days[g]);var c=h.getDate();h.setDate(h.getDate()+1);if(h.getDate()==c){h.setDate(h.getDate()+1);}}return a;}function cCheckDateOrder(p,b,c,o,r){var f=1000*60*60*24;
var k=cDOM.cGetParentOrSelf(p,"form"),j,h=new Date(0),l=new Date(0),e,q=new Date();if(k[b].value!=="0"){h.setDate(k[b].value);}if(k[c].value!=="0"){j=k[c].value.split("-");
h.setFullYear(j[0]);h.setMonth(j[1]-1);}h.setHours(12);h.setMinutes(0);h.setSeconds(0);if(k[o]!=undefined&&k[o].value!=="0"){l.setDate(k[o].value);}if(k[r]!=undefined&&k[r].value!=="0"){j=k[r].value.split("-");
l.setFullYear(j[0]);l.setMonth(j[1]-1);}l.setHours(12);l.setMinutes(0);l.setSeconds(0);if(k[c].value!=="0"){while(h.getMonth()!=k[c].value.split("-")[1]-1){h.setDate(h.getDate()-1);
k[b].value=h.getDate();}var a=h.getMonth()+1;k[c].value=h.getFullYear()+"-"+a;}var g=((h-l)/f);if(g>=(1-minimum_nights)){l.setTime(h.getTime()+minimum_nights*Date.prototype.MILLISECONDS_PER_DAY);
e=l.getMonth()+1;if(k[b].value!=="0"){if(k[o]!=undefined){k[o].value=l.getDate();}}if(k[c].value!=="0"){if(k[r]!=undefined){k[r].value=l.getFullYear()+"-"+e;
}}}cUpdateDaysInDDL();}function cGetChildImage(a){a=a.firstChild;while(a.nodeName.toLowerCase()!="img"&&a.nextSibling){a=a.nextSibling;}return a;}function cUpdateDaysInDDL(){var a=document.getElementById("checkin_day").value;
var b=document.getElementById("checkin_year_month").value;if(b==trCal.currentYearMonth){for(i=1;i<trCal.currentDay;i++){document.getElementById("checkin_day").options[i].disabled=true;
}}else{for(i=0;i<document.getElementById("checkin_day").length;i++){document.getElementById("checkin_day").options[i].disabled=false;}}}